language: node_js
node_js:
- 7.10.1
before_script:
- npm install -g gulp-cli
script: gulp
before_deploy:
- cp -r public/images deploy/
- cp -r public/scripts deploy/
- cp -r public/styles deploy/
- cp -r public/*.html deploy/
deploy:
  - provider: s3
    on:
      branch: main
    access_key_id: AKIAITZUUGIJNKLB4PHA
    bucket: static.moveon.org
    skip_cleanup: true
    region: us-east-2
    acl: public_read
    local_dir: deploy
    upload-dir: giraffe
    secret_access_key:
      secure: Vzby/QYXO/MNSlUrbUMH3yacqdPouge9+CvU5Vnc/xYPL0Bdw7WT3grrY14AoBfTrxUGbdGl/PnTWtwskUiTHYeVpUzUmtOTvImdsqvtF7bzLyn+Gsn3Mq9Kt/Y3DfSmqItWYJFAzM68Cg1hB2nKNUuApmCmsm68A/2Vj0gFY0MZFkZtraKImBI2l3LDhwykMdFQpMzwtx+et11RMGIFpqvy9czLOIRCaW/q+Lyk6FLQlBylIb//QScm2ghEpO5ukf4DHinCc0qEB35tqHJzI9hwUEI61uy4Edry8Vivo8zcHsECV1nI0KoA+gvLCBxHm0EAM6spJ4/K3sI12o25pYhXeubTaDXQqyUCNJAxIM/LIRjXXF/9DMy+7hzJAPOuevfy/0UnJ+GwRDjz8ZHVdsW9jwUEddf8KZ67LbF2YhDobnL1GOjS9+aQk3g9J0zEU7uLtvIXpVtKQLQf1Ma1grJ4oZjlRzspbkM+J74a92XIHz0B/KTWO8H0c4Rftuxkay81O5CWdUsCZBnFsfZEqrLeLt4DeE27sHnEBbz9hhWlBjofvRunj7FjVJd6kQyxJXRl0NULr1vKRtt1FS2zzg453tyAWhNu+4M+LWItwblO3NPneb20Q7IOeeySztOPNDwFraoup6Ix83nK7FkTvkzZz+iTaUagzRDFOB8otf8=
  - provider: s3
    on:
      branch: main
    access_key_id: AKIAITZUUGIJNKLB4PHA
    bucket: mop-static-stage
    skip_cleanup: true
    region: us-west-1
    acl: public_read
    local_dir: deploy
    upload-dir: giraffe
    secret_access_key:
      secure: Vzby/QYXO/MNSlUrbUMH3yacqdPouge9+CvU5Vnc/xYPL0Bdw7WT3grrY14AoBfTrxUGbdGl/PnTWtwskUiTHYeVpUzUmtOTvImdsqvtF7bzLyn+Gsn3Mq9Kt/Y3DfSmqItWYJFAzM68Cg1hB2nKNUuApmCmsm68A/2Vj0gFY0MZFkZtraKImBI2l3LDhwykMdFQpMzwtx+et11RMGIFpqvy9czLOIRCaW/q+Lyk6FLQlBylIb//QScm2ghEpO5ukf4DHinCc0qEB35tqHJzI9hwUEI61uy4Edry8Vivo8zcHsECV1nI0KoA+gvLCBxHm0EAM6spJ4/K3sI12o25pYhXeubTaDXQqyUCNJAxIM/LIRjXXF/9DMy+7hzJAPOuevfy/0UnJ+GwRDjz8ZHVdsW9jwUEddf8KZ67LbF2YhDobnL1GOjS9+aQk3g9J0zEU7uLtvIXpVtKQLQf1Ma1grJ4oZjlRzspbkM+J74a92XIHz0B/KTWO8H0c4Rftuxkay81O5CWdUsCZBnFsfZEqrLeLt4DeE27sHnEBbz9hhWlBjofvRunj7FjVJd6kQyxJXRl0NULr1vKRtt1FS2zzg453tyAWhNu+4M+LWItwblO3NPneb20Q7IOeeySztOPNDwFraoup6Ix83nK7FkTvkzZz+iTaUagzRDFOB8otf8=
